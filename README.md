# VerticalTextTMPTest
TextMeshProの縦書きテスト

# VerticalTextTMP (TextMeshPro 縦書き拡張コンポーネント)

このスクリプトは、Unityの標準機能である **TextMeshPro (TMP)** の頂点データを直接操作し、**日本語の縦書き表示**を実現するコンポーネントです。

標準のTMPでは難しい、正確な文字間の密着制御（アセンダー/ディセンダーに基づく配置）と、日本語特有の**行頭禁則処理（改行直後の句読点の前の行末への移動）**をサポートしています。

## 🚀 使い方

1.  Unityプロジェクト内で、`VerticalTextTMP.cs` を任意のフォルダに配置します。
2.  シーン内の **TextMeshProUGUI** コンポーネントがアタッチされたGameObjectを選択します。
3.  インスペクターで **VerticalTextTMP** コンポーネントをアタッチします。
4.  TMPコンポーネントの `RectTransform` のサイズを適切に設定してください。

> **注意:** 縦書き処理は頂点操作により実現されています。TextMeshProの自動レイアウト機能（特にHorizontal/Vertical Alignment）の一部は期待通りに動作しない場合があります。

## ✨ 特徴

| 機能 | 詳細 |
| :--- | :--- |
| **縦書き配置** | 文字を右から左へ、上から下へ配置します。 |
| **厳密な密着制御** | フォントメトリック（アセンダー/ディセンダー）に基づいて文字を密着配置します。`FONT_SAFETY_MARGIN` 定数で、文字の重なりを防ぐための微調整が可能です。 |
| **行頭禁則処理** | **改行コードの直後**に以下の句読点（禁則文字）が来た場合、その句読点を**前の行の末尾**に移動して配置します。 |

### 禁則文字リスト

以下の文字が改行直前に来た場合に処理が適用されます。

```csharp
"、。？！）】｝〕》.!?"

定数名	説明	推奨値
EXTRA_VERTICAL_SPACE：文字間の追加の縦スペース。
FONT_SAFETY_MARGIN：文字のレンダリング上の重なりを防ぐための最小マージン。負の値でわずかな重なりを許容し、視覚的な密着を実現できます。
HALF_SPACE_HEIGHT	半角スペースの縦方向の間隔。
FULL_SPACE_HEIGHT	全角スペースの縦方向の間隔。
